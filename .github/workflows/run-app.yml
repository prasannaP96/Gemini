name: Run app.py

on:
  schedule:
    - cron: "54 2 * * *"

jobs:
  run-app:
    runs-on: ubuntu-latest

    steps:
      #1. Checkout repo
      - name: Checkout repo
        uses: actions/checkout@v4


      #2. Setup python
      - name: Setup python
        uses: actions/setup-python@v5
        with:
          python-version: "3.10"


      #3. Install dependencies
      - name: Install dependencies
        run: pip install -r requirements.txt


      #4. Develop Branch
      - name: run in Develop
        if: github.ref =='refs/heads/develop'
        echo "using Secret Key: $DEV_SECRET" 


      #4. Develop Branch
      - name: run in Main
        if: github.ref =='refs/heads/main'
        echo "using Secret Key: $MAIN_SECRET" 